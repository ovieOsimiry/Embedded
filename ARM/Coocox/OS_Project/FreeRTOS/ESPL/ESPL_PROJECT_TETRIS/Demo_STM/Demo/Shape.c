#ifndef _SHAPE_
#define _SHAPE_
#include "Shape.h"


/**
 *
 * Here we define each shape as an array of characters
 * Each array contains the possible position of the shape when it is rotated.
 * We gained very good inspiration on how to completely implement the shapes
 * from: http://javilop.com/gamedev/tetris-tutorial-in-c-platform-independent-focused-in-game-logic-for-beginners/
 *
 */

/*-----------------------------------------------Character Array for Shape Shape N----------------------------------------------*/

char ShapeN [4][5][5] =

  {
   {
    {0, 0, 0, 0, 0},
    {0, 0, 0, 4, 0},
    {0, 0, 2, 3, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 1, 2, 0, 0},
					{0, 0, 3, 4, 0},
					{0, 0, 0, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 3, 2, 0, 0},
    {0, 4, 0, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 4, 3, 0, 0},
					{0, 0, 2, 1, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0}
					}
};
/*------------------------------------------------------------------------------------------------------------------------------------*/

/*-----------------------------------------------------Character Array for Shape N mirrored-------------------------------------------*/
char ShapeNmirroed [4][5][5] =

  {
   {
    {0, 0, 0, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 2, 3, 0},
    {0, 0, 0, 4, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 2, 1, 0},
					{0, 4, 3, 0, 0},
					{0, 0, 0, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 4, 0, 0, 0},
    {0, 3, 2, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 3, 4, 0},
					{0, 1, 2, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0}
					}
   };
/*------------------------------------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------Character Array for Shape T----------------------------------------------*/
char ShapeT [4][5][5] =
{
   {
    {0, 0, 0, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 2, 4, 0},
    {0, 0, 3, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 3, 2, 1, 0},
					{0, 0, 4, 0, 0},
					{0, 0, 0, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 0, 3, 0, 0},
    {0, 4, 2, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 4, 0, 0},
					{0, 1, 2, 3, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0}
					}
};
/*-------------------------------------------------------------------------------------------------------------------------------*/


/*---------------------------------------Character Array for Shape Square--------------------------*/
char ShapeSquare [4][5][5] =
{
   {
    {0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0},
    {0, 0, 2, 1, 0},
    {0, 0, 3, 4, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 2, 1, 0},
					{0, 0, 3, 4, 0},
					{0, 0, 0, 0, 0}
					},
   {
	{0, 0, 0, 0, 0},
	{0, 0, 0, 0, 0},
	{0, 0, 2, 1, 0},
	{0, 0, 3, 4, 0},
	{0, 0, 0, 0, 0}
	},
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 2, 1, 0},
					{0, 0, 3, 4, 0},
					{0, 0, 0, 0, 0}
					}
};
/*------------------------------------------------------------------------------------------------------------------*/

/*----------------------------------------------Character Array for Shape I-----------------------------------------*/
char ShapeI [4][5][5] =

{
   {
    {0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0},
    {0, 1, 2, 3, 4},
    {0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 1, 0, 0},
					{0, 0, 2, 0, 0},
					{0, 0, 3, 0, 0},
					{0, 0, 4, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0},
    {4, 3, 2, 1, 0},
    {0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 4, 0, 0},
					{0, 0, 3, 0, 0},
					{0, 0, 2, 0, 0},
					{0, 0, 1, 0, 0},
					{0, 0, 0, 0, 0}
					}
};
/*-----------------------------------------------------------------------------------------------------------------------------*/


/*---------------------------------------------------Character Array for Shape L-----------------------------------------------*/
char ShapeL [4][5][5] =

  {
   {
    {0, 0, 0, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 2, 0, 0},
    {0, 0, 3, 4, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 3, 2, 1, 0},
					{0, 4, 0, 0, 0},
					{0, 0, 0, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 4, 3, 0, 0},
    {0, 0, 2, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 4, 0},
					{0, 1, 2, 3, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0}
					}
};
/*---------------------------------------------------------------------------------------------------------------------------------*/

/*------------------------------------------------Character Array for Shape L mirrored---------------------------------------------*/
char ShapeLmirrored [4][5][5] =
{
   {
    {0, 0, 0, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 2, 0, 0},
    {0, 4, 3, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 4, 0, 0, 0},
					{0, 3, 2, 1, 0},
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0}
					},
   {
    {0, 0, 0, 0, 0},
    {0, 0, 3, 4, 0},
    {0, 0, 2, 0, 0},
    {0, 0, 1, 0, 0},
    {0, 0, 0, 0, 0}
    },
				   {
					{0, 0, 0, 0, 0},
					{0, 0, 0, 0, 0},
					{0, 1, 2, 3, 0},
					{0, 0, 0, 4, 0},
					{0, 0, 0, 0, 0}
					}
};
/*-------------------------------------------------------------------------------------------------------------------------------*/



// Displacement of the piece to the position where it is first drawn in the board when it is created
int mShapesInitialPosition  [7 /*kind */ ][4 /* rotation */ ][2 /* position */] =
{
/* Square */
  {
	{-2, -3},
    {-2, -3},
    {-2, -3},
    {-2, -3}
   },
/* I */
  {
	{-2, -2},
    {-2, -3},
    {-2, -2},
    {-2, -3}
   },
/* L */
  {
	{-2, -3},
    {-2, -3},
    {-2, -3},
    {-2, -2}
   },
/* L mirrored */
  {
	{-2, -3},
    {-2, -2},
    {-2, -3},
    {-2, -3}
   },
/* N */
  {
	{-2, -3},
    {-2, -3},
    {-2, -3},
    {-2, -2}
   },
/* N mirrored */
  {
	{-2, -3},
    {-2, -3},
    {-2, -3},
    {-2, -2}
   },
/* T */
  {
	{-2, -3},
    {-2, -3},
    {-2, -3},
    {-2, -2}
   },
};


/*
======================================
Returns the horizontal displacement of the piece that has to be applied in order to create it in the
correct position.

Parameters:

>> pShape:	Shape to draw
>> pRotation:	1 of the 4 possible rotations
======================================
*/
int pGetXInitialPosition (int pShape, int pRotation)
{
	return mShapesInitialPosition [pShape][pRotation][0];
}


/*
======================================
Returns the vertical displacement of the piece that has to be applied in order to create it in the
correct position.

Parameters:

>> pPiece:	Piece to draw
>> pRotation:	1 of the 4 possible rotations
======================================
*/
int pGetYInitialPosition (int pShape, int pRotation)
{
	return mShapesInitialPosition [pShape][pRotation][1];
}


#endif
